{"version":3,"file":"blazor-component.js","sources":["../../../BlazorComponent.Web/src/directive/ripple.ts","../../../BlazorComponent.Web/src/utils/helper.ts","../../../BlazorComponent.Web/src/events/EventType.ts","../../../BlazorComponent.Web/src/events/extra.ts","../../../BlazorComponent.Web/src/events/index.ts","../../../BlazorComponent.Web/src/interop.ts","../../../BlazorComponent.Web/src/directive/index.ts","../../../BlazorComponent.Web/src/mixins/overlayable/index.ts","../../../BlazorComponent.Web/src/main.ts"],"sourcesContent":["const calculate = (e, el) => {\r\n  let localX = 0;\r\n  let localY = 0;\r\n\r\n  const offset = el.getBoundingClientRect();\r\n  const target = e;\r\n\r\n  localX = target.clientX - offset.left;\r\n  localY = target.clientY - offset.top;\r\n\r\n  let radius = 0;\r\n  let scale = 0.3;\r\n\r\n  radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2;\r\n\r\n  const centerX = `${(el.clientWidth - radius * 2) / 2}px`;\r\n  const centerY = `${(el.clientHeight - radius * 2) / 2}px`;\r\n\r\n  const x = `${localX - radius}px`;\r\n  const y = `${localY - radius}px`;\r\n\r\n  return { radius, scale, x, y, centerX, centerY };\r\n};\r\n\r\nfunction transform(el, value) {\r\n  el.style.transform = value;\r\n  el.style.webkitTransform = value;\r\n}\r\n\r\nfunction opacity(el, value) {\r\n  el.style.opacity = value.toString();\r\n}\r\n\r\nconst ripples = {\r\n  /* eslint-disable max-statements */\r\n  show(e, el) {\r\n    const container = document.createElement(\"span\");\r\n    const animation = document.createElement(\"span\");\r\n\r\n    container.appendChild(animation);\r\n    container.className = \"m-ripple__container\";\r\n\r\n    const { radius, scale, x, y, centerX, centerY } = calculate(e, el);\r\n\r\n    const size = `${radius * 2}px`;\r\n    animation.className = \"m-ripple__animation\";\r\n    animation.style.width = size;\r\n    animation.style.height = size;\r\n\r\n    el.appendChild(container);\r\n\r\n    const computed = window.getComputedStyle(el);\r\n    if (computed && computed.position === \"static\") {\r\n      el.style.position = \"relative\";\r\n      el.dataset.previousPosition = \"static\";\r\n    }\r\n\r\n    animation.classList.add(\"m-ripple__animation--enter\");\r\n    animation.classList.add(\"m-ripple__animation--visible\");\r\n    transform(\r\n      animation,\r\n      `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`\r\n    );\r\n    opacity(animation, 0);\r\n    animation.dataset.activated = String(performance.now());\r\n\r\n    setTimeout(() => {\r\n      animation.classList.remove(\"m-ripple__animation--enter\");\r\n      animation.classList.add(\"m-ripple__animation--in\");\r\n      transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`);\r\n      opacity(animation, 0.25);\r\n    }, 0);\r\n  },\r\n\r\n  hide(el) {\r\n    const ripples = el.getElementsByClassName(\"m-ripple__animation\");\r\n\r\n    if (ripples.length === 0) return;\r\n    const animation = ripples[ripples.length - 1];\r\n\r\n    if (animation.dataset.isHiding) return;\r\n    else animation.dataset.isHiding = \"true\";\r\n\r\n    const diff = performance.now() - Number(animation.dataset.activated);\r\n    const delay = Math.max(250 - diff, 0);\r\n\r\n    setTimeout(() => {\r\n      animation.classList.remove(\"m-ripple__animation--in\");\r\n      animation.classList.add(\"m-ripple__animation--out\");\r\n      opacity(animation, 0);\r\n\r\n      setTimeout(() => {\r\n        const ripples = el.getElementsByClassName(\"m-ripple__animation\");\r\n        if (ripples.length === 1 && el.dataset.previousPosition) {\r\n          el.style.position = el.dataset.previousPosition;\r\n          delete el.dataset.previousPosition;\r\n        }\r\n\r\n        animation.parentNode && el.removeChild(animation.parentNode);\r\n      }, 300);\r\n    }, delay);\r\n  },\r\n};\r\n\r\nexport function rippleShow(e) {\r\n  ripples.show(e, e.currentTarget);\r\n}\r\n\r\nexport function rippleHide(e) {\r\n  ripples.hide(e.currentTarget);\r\n}\r\n","export function addOnceEventListener (\r\n  el: EventTarget,\r\n  eventName: string,\r\n  cb: (event: Event) => void,\r\n  options: boolean | AddEventListenerOptions = false\r\n): void {\r\n  const once = (event: Event) => {\r\n    cb(event)\r\n    el.removeEventListener(eventName, once, options)\r\n  }\r\n\r\n  el.addEventListener(eventName, once, options)\r\n}\r\n\r\nlet passiveSupported = false\r\ntry {\r\n  if (typeof window !== 'undefined') {\r\n    const testListenerOpts = Object.defineProperty({}, 'passive', {\r\n      get: () => {\r\n        passiveSupported = true\r\n      },\r\n    })\r\n\r\n    window.addEventListener('testListener' as any, testListenerOpts as any, testListenerOpts)\r\n    window.removeEventListener('testListener' as any, testListenerOpts as any, testListenerOpts)\r\n  }\r\n} catch (e) { console.warn(e) } /* eslint-disable-line no-console */\r\nexport { passiveSupported }\r\n\r\nexport function addPassiveEventListener (\r\n  el: EventTarget,\r\n  event: string,\r\n  cb: ((e: any) => void),\r\n  options: {}\r\n): void {\r\n  el.addEventListener(event, cb, passiveSupported ? options : false)\r\n}\r\n\r\nexport function getZIndex (el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element)\r\n  return index\r\n}\r\n\r\n// KeyboardEvent.keyCode aliases\r\nexport const keyCodes = Object.freeze({\r\n  enter: 13,\r\n  tab: 9,\r\n  delete: 46,\r\n  esc: 27,\r\n  space: 32,\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  end: 35,\r\n  home: 36,\r\n  del: 46,\r\n  backspace: 8,\r\n  insert: 45,\r\n  pageup: 33,\r\n  pagedown: 34,\r\n  shift: 16,\r\n})\r\n\r\n/**  Polyfill for Event.prototype.composedPath */\r\nexport function composedPath (e: Event): EventTarget[] {\r\n  if (e.composedPath) return e.composedPath()\r\n\r\n  const path = []\r\n  let el = e.target as Element\r\n\r\n  while (el) {\r\n    path.push(el)\r\n\r\n    if (el.tagName === 'HTML') {\r\n      path.push(document)\r\n      path.push(window)\r\n\r\n      return path\r\n    }\r\n\r\n    el = el.parentElement!\r\n  }\r\n  return path\r\n}\r\n\r\nexport function getBlazorId(el) {\r\n  let _bl_ = el.getAttributeNames().find(a => a.startsWith('_bl_'))\r\n  if (_bl_) {\r\n    _bl_ = _bl_.substring(4);\r\n  }\r\n\r\n  return _bl_;\r\n}\r\n\r\nexport function getElementSelector(el) {\r\n  if (!(el instanceof Element))\r\n    return;\r\n  var path = [];\r\n  while (el.nodeType === Node.ELEMENT_NODE) {\r\n    var selector = el.nodeName.toLowerCase();\r\n    if (el.id) {\r\n      selector += '#' + el.id;\r\n      path.unshift(selector);\r\n      break;\r\n    } else {\r\n      var sib = el, nth = 1;\r\n      while (sib = sib.previousElementSibling) {\r\n        if (sib.nodeName.toLowerCase() == selector)\r\n          nth++;\r\n      }\r\n      if (nth != 1)\r\n        selector += \":nth-of-type(\" + nth + \")\";\r\n    }\r\n    path.unshift(selector);\r\n    el = el.parentNode;\r\n  }\r\n  return path.join(\" > \");\r\n}\r\n\r\nexport function getDom(elOrString: Element | string | undefined) {\r\n  let element: HTMLElement;\r\n  if (!elOrString) {\r\n    element = document.body;\r\n  } else if (typeof elOrString === \"string\") {\r\n    if (elOrString === \"document\") {\r\n      element = document.documentElement;\r\n    } else if (elOrString.indexOf(\"__.__\") > 0) {\r\n      // for example: el__.__parentElement\r\n      let array = elOrString.split(\"__.__\");\r\n      let i = 0;\r\n      let el = document.querySelector(array[i++]);\r\n\r\n      if (el) {\r\n        while (array[i]) {\r\n          el = el[array[i]];\r\n          i++;\r\n        }\r\n      }\r\n\r\n      if (el instanceof HTMLElement) {\r\n        element = el;\r\n      }\r\n    } else {\r\n      element = document.querySelector(elOrString);\r\n    }\r\n  } else {\r\n    element = elOrString as HTMLElement;\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nexport const canUseDom = !!(\r\n  typeof window !== 'undefined' &&\r\n  typeof document !== 'undefined' &&\r\n  window.document &&\r\n  window.document.createElement\r\n)\r\n\r\nexport function doIfDomIsDisplayNone(\r\n  el: HTMLElement,\r\n  cb: (tempEl: HTMLElement) => void\r\n) {\r\n  console.log(\"el\", el);\r\n  if (el.style && el.style[\"display\"] === \"none\") {\r\n    const cloned = el.cloneNode(true) as HTMLElement;\r\n    console.log(\"cloned\", cloned);\r\n    cloned.style[\"display\"] = \"inline-block\";\r\n    cloned.style[\"z-index\"] = -1000;\r\n    console.log(\"cloned.parentElement\", cloned.parentElement);\r\n    el.parentElement.appendChild(cloned);\r\n    cb(cloned);\r\n    console.log(\"removeChild\");\r\n    el.parentElement.removeChild(cloned);\r\n  } else {\r\n    cb(el);\r\n  }\r\n}\r\n","// see https://github.com/dotnet/aspnetcore/blob/main/src/Components/Web.JS/src/Rendering/Events/EventTypes.ts\r\n// updated at 2022/08/31\r\n\r\nexport function parseMouseEvent(event: MouseEvent): Blazor.MouseEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    screenX: event.screenX,\r\n    screenY: event.screenY,\r\n    clientX: event.clientX,\r\n    clientY: event.clientY,\r\n    offsetX: event.offsetX,\r\n    offsetY: event.offsetY,\r\n    pageX: event.pageX,\r\n    pageY: event.pageY,\r\n    button: event.button,\r\n    buttons: event.buttons,\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  } as Blazor.MouseEventArgs;\r\n}\r\n\r\nexport function parseTouchEvent(event: TouchEvent): Blazor.TouchEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    touches: parseTouch(event.touches),\r\n    targetTouches: parseTouch(event.targetTouches),\r\n    changedTouches: parseTouch(event.changedTouches),\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  };\r\n}\r\n\r\nfunction parseTouch(touchList: TouchList): Blazor.TouchPoint[] {\r\n  const touches: Blazor.TouchPoint[] = [];\r\n\r\n  for (let i = 0; i < touchList.length; i++) {\r\n    const touch = touchList[i];\r\n    touches.push({\r\n      identifier: touch.identifier,\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n      screenX: touch.screenX,\r\n      screenY: touch.screenY,\r\n      pageX: touch.pageX,\r\n      pageY: touch.pageY,\r\n    });\r\n  }\r\n  return touches;\r\n}\r\n\r\nexport function parseChangeEvent(event: Event): Blazor.ChangeEventArgs {\r\n  const element = event.target as Element;\r\n  if (isTimeBasedInput(element)) {\r\n    const normalizedValue = normalizeTimeBasedValue(element);\r\n    return { value: normalizedValue };\r\n  } else if (isMultipleSelectInput(element)) {\r\n    const selectElement = element as HTMLSelectElement;\r\n    const selectedValues = Array.from(selectElement.options)\r\n      .filter((option) => option.selected)\r\n      .map((option) => option.value);\r\n    return { value: selectedValues };\r\n  } else {\r\n    const targetIsCheckbox = isCheckbox(element);\r\n    const newValue = targetIsCheckbox ? !!element[\"checked\"] : element[\"value\"];\r\n    return { value: newValue };\r\n  }\r\n}\r\n\r\nfunction isTimeBasedInput(element: Element): element is HTMLInputElement {\r\n  return timeBasedInputs.indexOf(element.getAttribute(\"type\")!) !== -1;\r\n}\r\n\r\nconst timeBasedInputs = [\"date\", \"datetime-local\", \"month\", \"time\", \"week\"];\r\n\r\nfunction normalizeTimeBasedValue(element: HTMLInputElement): string {\r\n  const value = element.value;\r\n  const type = element.type;\r\n  switch (type) {\r\n    case \"date\":\r\n    case \"month\":\r\n      return value;\r\n    case \"datetime-local\":\r\n      return value.length === 16 ? value + \":00\" : value; // Convert yyyy-MM-ddTHH:mm to yyyy-MM-ddTHH:mm:00\r\n    case \"time\":\r\n      return value.length === 5 ? value + \":00\" : value; // Convert hh:mm to hh:mm:00\r\n    case \"week\":\r\n      // For now we are not going to normalize input type week as it is not trivial\r\n      return value;\r\n  }\r\n\r\n  throw new Error(`Invalid element type '${type}'.`);\r\n}\r\n\r\nfunction isMultipleSelectInput(element: Element): element is HTMLSelectElement {\r\n  return (\r\n    element instanceof HTMLSelectElement && element.type === \"select-multiple\"\r\n  );\r\n}\r\n\r\nfunction isCheckbox(element: Element | null): boolean {\r\n  return (\r\n    !!element &&\r\n    element.tagName === \"INPUT\" &&\r\n    element.getAttribute(\"type\") === \"checkbox\"\r\n  );\r\n}\r\n","import { getElementSelector } from \"../utils/helper\";\r\nimport { parseMouseEvent, parseTouchEvent } from \"./EventType\";\r\n\r\nexport function registerExtraMouseEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => createSharedEventArgs(\"mouse\", e)\r\n    })\r\n  }\r\n}\r\n\r\nexport function registerExtraTouchEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => createSharedEventArgs(\"touch\", e)\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSharedEventArgs(type: \"mouse\" | \"touch\", e: Event,) {\r\n  let args = { target: {} }\r\n  if (type === 'mouse') {\r\n    args = {\r\n      ...args,\r\n      ...parseMouseEvent(e as MouseEvent)\r\n    }\r\n  } else if (type === 'touch') {\r\n    args = {\r\n      ...args,\r\n      ...parseTouchEvent(e as TouchEvent)\r\n    }\r\n  }\r\n\r\n  if (e.target) {\r\n    const target = e.target as HTMLElement;\r\n    const elementReferenceId = target.getAttributeNames().find(a => a.startsWith('_bl_'));\r\n    if (elementReferenceId) {\r\n      args.target['elementReferenceId'] = elementReferenceId\r\n      args.target['selector'] = `[${elementReferenceId}]`\r\n    } else {\r\n      args.target['selector'] = getElementSelector(target)\r\n    }\r\n\r\n    args.target['class'] = target.getAttribute('class')\r\n  }\r\n\r\n  return args;\r\n}","import { registerExtraMouseEvent, registerExtraTouchEvent } from \"./extra\";\r\n\r\nexport function registerExtraEvents() {\r\n    registerExtraMouseEvent(\"exmousedown\", \"mousedown\");\r\n    registerExtraMouseEvent(\"exmouseup\", \"mouseup\");\r\n    registerExtraMouseEvent(\"exclick\", \"click\");\r\n    registerExtraMouseEvent(\"exmouseleave\", \"mouseleave\");\r\n    registerExtraMouseEvent(\"exmouseenter\", \"mouseenter\");\r\n    registerExtraMouseEvent(\"exmousemove\", \"mousemove\");\r\n    registerExtraTouchEvent(\"extouchstart\", \"touchstart\");\r\n    registerEvent(\"transitionend\", \"transitionend\")\r\n}\r\n\r\nfunction registerEvent(eventType: string, eventName: string) {\r\n    if (Blazor) {\r\n        Blazor.registerCustomEventType(eventType, {\r\n            browserEventName: eventName,\r\n        })\r\n    }\r\n}","import registerDirective from \"./directive/index\";\r\nimport { registerExtraEvents } from \"./events/index\";\r\nimport { doIfDomIsDisplayNone, getDom, getElementSelector } from \"./utils/helper\";\r\n\r\nexport function getZIndex(el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0;\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue(\"z-index\");\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element);\r\n  return index;\r\n}\r\n\r\nexport function addStepperEventListener(\r\n  element: HTMLElement,\r\n  isActive: Boolean\r\n) {\r\n  if (element?.addEventListener) {\r\n    element.addEventListener(\r\n      \"transitionend\",\r\n      (e) => onTransition(e, isActive, element),\r\n      false\r\n    );\r\n  }\r\n}\r\n\r\nexport function removeStepperEventListener(\r\n  element: HTMLElement,\r\n  isActive: Boolean\r\n) {\r\n  if (element?.removeEventListener) {\r\n    element.removeEventListener(\r\n      \"transitionend\",\r\n      (e) => onTransition(e, isActive, element),\r\n      false\r\n    );\r\n  }\r\n}\r\n\r\nexport function initStepperWrapper(element: HTMLElement) {\r\n  if (!element.classList.contains(\"active\")) {\r\n    element.style.display = \"none\";\r\n  }\r\n\r\n  var observer = new MutationObserver(function (mutationsList) {\r\n    for (let mutation of mutationsList) {\r\n      if (mutation.type === \"attributes\") {\r\n        if (mutation.attributeName == \"class\") {\r\n          var target: HTMLElement = mutation.target as HTMLElement;\r\n          if (target.classList.contains(\"active\")) {\r\n            target.style.display = \"\";\r\n            enter(target, true);\r\n          } else {\r\n            leave(target);\r\n            setTimeout(() => {\r\n              target.style.display = \"none\";\r\n            }, 300);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  observer.observe(element, { attributes: true, attributeFilter: [\"class\"] });\r\n}\r\n\r\nfunction onTransition(\r\n  e: TransitionEvent,\r\n  isActive: Boolean,\r\n  element: HTMLElement\r\n) {\r\n  if (!isActive || e.propertyName !== \"height\") return;\r\n\r\n  element.style.height = \"auto\";\r\n}\r\n\r\nfunction enter(element: HTMLElement, isActive: Boolean) {\r\n  let scrollHeight = 0;\r\n\r\n  // Render bug with height\r\n  requestAnimationFrame(() => {\r\n    scrollHeight = element.scrollHeight;\r\n  });\r\n\r\n  element.style.height = 0 + \"px\";\r\n  // Give the collapsing element time to collapse\r\n  setTimeout(\r\n    () => isActive && (element.style.height = scrollHeight + \"px\" || \"auto\"),\r\n    450\r\n  );\r\n}\r\n\r\nfunction leave(element: HTMLElement) {\r\n  element.style.height = element.clientHeight + \"px\";\r\n  setTimeout(() => {\r\n    element.style.height = 0 + \"px\";\r\n  }, 10);\r\n}\r\n\r\nexport function getDomInfo(element) {\r\n  var result = {};\r\n\r\n  var dom = getDom(element);\r\n\r\n  if (dom) {\r\n    if (dom.style && dom.style[\"display\"] === \"none\") {\r\n      // clone and set display not none because\r\n      // element with display:none can not get the dom info\r\n      var cloned = dom.cloneNode(true) as HTMLElement;\r\n      cloned.style[\"display\"] = \"inline-block\";\r\n      cloned.style[\"z-index\"] = -1000;\r\n      dom.parentElement.appendChild(cloned);\r\n\r\n      result = getDomInfoObj(cloned);\r\n\r\n      dom.parentElement.removeChild(cloned);\r\n    } else {\r\n      result = getDomInfoObj(dom);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom) {\r\n  var result = {};\r\n  result[\"offsetTop\"] = dom.offsetTop || 0;\r\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n  result[\"scrollTop\"] = dom.scrollTop || 0;\r\n  result[\"clientTop\"] = dom.clientTop || 0;\r\n  result[\"clientLeft\"] = dom.clientLeft || 0;\r\n  result[\"clientHeight\"] = dom.clientHeight || 0;\r\n  result[\"clientWidth\"] = dom.clientWidth || 0;\r\n  var position = getElementPos(dom);\r\n  result[\"offsetWidth\"] = Math.round(position.offsetWidth) || 0;\r\n  result[\"offsetHeight\"] = Math.round(position.offsetHeight) || 0;\r\n  result[\"relativeTop\"] = Math.round(position.relativeTop) || 0;\r\n  result[\"relativeBottom\"] = Math.round(position.relativeBottom) || 0;\r\n  result[\"relativeLeft\"] = Math.round(position.relativeLeft) || 0;\r\n  result[\"relativeRight\"] = Math.round(position.relativeRight) || 0;\r\n  result[\"absoluteLeft\"] = Math.round(position.absoluteLeft) || 0;\r\n  result[\"absoluteTop\"] = Math.round(position.absoluteTop) || 0;\r\n  return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n  var res: any = new Object();\r\n  res.x = 0;\r\n  res.y = 0;\r\n  if (element !== null) {\r\n    if (element.getBoundingClientRect) {\r\n      var viewportElement = document.documentElement;\r\n      var box = element.getBoundingClientRect();\r\n      var scrollLeft = viewportElement.scrollLeft;\r\n      var scrollTop = viewportElement.scrollTop;\r\n\r\n      res.offsetWidth = box.width;\r\n      res.offsetHeight = box.height;\r\n      res.relativeTop = box.top;\r\n      res.relativeBottom = box.bottom;\r\n      res.relativeLeft = box.left;\r\n      res.relativeRight = box.right;\r\n      res.absoluteLeft = box.left + scrollLeft;\r\n      res.absoluteTop = box.top + scrollTop;\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName, stopPropagation) {\r\n  var dom = getDom(element);\r\n  var evt = document.createEvent(eventType);\r\n  evt.initEvent(eventName);\r\n\r\n  if (stopPropagation) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function setProperty(element, name, value) {\r\n  var dom = getDom(element);\r\n  dom[name] = value;\r\n}\r\n\r\nexport function getBoundingClientRect(element, attach = \"body\") {\r\n  let dom = getDom(element);\r\n\r\n  var result = {};\r\n\r\n  if (dom && dom.getBoundingClientRect) {\r\n    if (dom.style && dom.style[\"display\"] === \"none\") {\r\n      var cloned = dom.cloneNode(true) as HTMLElement;\r\n      cloned.style[\"display\"] = \"inline-block\";\r\n      cloned.style[\"z-index\"] = -1000;\r\n      document.querySelector(attach)?.appendChild(cloned);\r\n\r\n      result = cloned.getBoundingClientRect();\r\n\r\n      document.querySelector(attach)?.removeChild(cloned);\r\n    } else {\r\n      result = dom.getBoundingClientRect();\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nvar htmlElementEventListennerConfigs: { [prop: string]: any[] } = {};\r\n\r\nexport function addHtmlElementEventListener<\r\n  K extends keyof HTMLElementTagNameMap\r\n>(\r\n  selector: \"window\" | \"document\" | K,\r\n  type: string,\r\n  invoker: DotNet.DotNetObject,\r\n  options?: boolean | AddEventListenerOptions,\r\n  extras?: Partial<Pick<Event, \"stopPropagation\" | \"preventDefault\">> & {\r\n    relatedTarget?: string;\r\n    throttle?: number;\r\n    debounce?: number;\r\n    key?: string;\r\n  }\r\n) {\r\n  let htmlElement: HTMLElement | Window;\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var key = extras?.key || `${selector}:${type}`;\r\n\r\n  //save for remove\r\n  var config = {};\r\n\r\n  var listener = (args: any): void => {\r\n    if (extras?.stopPropagation) {\r\n      args.stopPropagation();\r\n    }\r\n\r\n    if (extras?.preventDefault) {\r\n      args.preventDefault();\r\n    }\r\n\r\n    // mouseleave relatedTarget\r\n    if (\r\n      extras?.relatedTarget &&\r\n      document.querySelector(extras.relatedTarget)?.contains(args.relatedTarget)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const obj = {};\r\n\r\n    for (var k in args) {\r\n      if (typeof args[k] == \"string\" || typeof args[k] == \"number\") {\r\n        obj[k] = args[k];\r\n      } else if (k == \"target\" && args.target.attributes) {\r\n        var target = {\r\n          attributes: {},\r\n        };\r\n\r\n        for (let index = 0; index < args.target.attributes.length; index++) {\r\n          const attr = args.target.attributes[index];\r\n          target.attributes[attr.name] = attr.value;\r\n        }\r\n        obj[k] = target;\r\n      } else if (\r\n        k == \"touches\" ||\r\n        k == \"targetTouches\" ||\r\n        k == \"changedTouches\"\r\n      ) {\r\n        var list = [];\r\n        args[k].forEach((touch) => {\r\n          var item = {};\r\n\r\n          for (var attr in touch) {\r\n            if (\r\n              typeof touch[attr] == \"string\" ||\r\n              typeof touch[attr] == \"number\"\r\n            ) {\r\n              item[attr] = touch[attr];\r\n            }\r\n          }\r\n          list.push(item);\r\n        });\r\n\r\n        obj[k] = list;\r\n      }\r\n    }\r\n\r\n    invoker.invokeMethodAsync(\"Invoke\", obj);\r\n  };\r\n\r\n  if (extras?.debounce && extras.debounce > 0) {\r\n    let timeout;\r\n    config[\"listener\"] = function (args: any) {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => listener(args), extras.debounce);\r\n    };\r\n  } else if (extras?.throttle && extras.throttle > 0) {\r\n    let throttled: boolean;\r\n    config[\"listener\"] = function (args: any) {\r\n      if (!throttled) {\r\n        listener(args);\r\n        throttled = true;\r\n        setTimeout(() => {\r\n          throttled = false;\r\n        }, extras?.throttle ?? 0);\r\n      }\r\n    };\r\n  } else {\r\n    config[\"listener\"] = listener;\r\n  }\r\n\r\n  config[\"options\"] = options;\r\n\r\n  if (htmlElementEventListennerConfigs[key]) {\r\n    htmlElementEventListennerConfigs[key].push(config);\r\n  } else {\r\n    htmlElementEventListennerConfigs[key] = [config];\r\n  }\r\n\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener(type, config[\"listener\"], options);\r\n  }\r\n}\r\n\r\nexport function removeHtmlElementEventListener(selector, type, k?: string) {\r\n  let htmlElement: any;\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var k = k || `${selector}:${type}`;\r\n\r\n  var configs = htmlElementEventListennerConfigs[k];\r\n\r\n  if (configs) {\r\n    configs.forEach((item) => {\r\n      htmlElement?.removeEventListener(type, item[\"listener\"], item[\"options\"]);\r\n    });\r\n\r\n    htmlElementEventListennerConfigs[k] = [];\r\n  }\r\n}\r\n\r\nvar outsideClickListenerCaches: { [key: string]: any } = {};\r\n\r\nexport function addOutsideClickEventListener(\r\n  invoker,\r\n  noInvokeSelectors: string[],\r\n  invokeSelectors: string[]\r\n) {\r\n  if (!noInvokeSelectors) return;\r\n\r\n  noInvokeSelectors = noInvokeSelectors.filter((s) => !!s);\r\n\r\n  var listener = function (args) {\r\n    var exists = noInvokeSelectors.some((s) =>\r\n      getDom(s)?.contains(args.target)\r\n    );\r\n    if (exists) return;\r\n\r\n    var pointerSelector = getElementSelector(args.target);\r\n\r\n    if (invokeSelectors) {\r\n      if (invokeSelectors.some((s) => getDom(s)?.contains(args.target))) {\r\n        invoker.invokeMethodAsync(\"Invoke\", { pointerSelector });\r\n      }\r\n    } else {\r\n      invoker.invokeMethodAsync(\"Invoke\", { pointerSelector });\r\n    }\r\n  };\r\n\r\n  document.addEventListener(\"click\", listener, true);\r\n\r\n  var key = `(${noInvokeSelectors.join(\",\")})document:click`;\r\n\r\n  outsideClickListenerCaches[key] = listener;\r\n}\r\n\r\nexport function removeOutsideClickEventListener(noInvokeSelectors: string[]) {\r\n  if (!noInvokeSelectors) return;\r\n\r\n  noInvokeSelectors = noInvokeSelectors.filter((s) => !!s);\r\n\r\n  var key = `(${noInvokeSelectors.join(\",\")})document:click`;\r\n\r\n  if (outsideClickListenerCaches[key]) {\r\n    document.removeEventListener(\r\n      \"click\",\r\n      outsideClickListenerCaches[key],\r\n      true\r\n    );\r\n    outsideClickListenerCaches[key] = undefined;\r\n  }\r\n}\r\n\r\nexport function addMouseleaveEventListener(selector) {\r\n  var htmlElement = document.querySelector(selector);\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener();\r\n  }\r\n}\r\n\r\nexport function contains(e1, e2) {\r\n  const dom1 = getDom(e1);\r\n  if (dom1 && dom1.contains) {\r\n    return dom1.contains(getDom(e2));\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function equalsOrContains(e1: any, e2: any) {\r\n  const dom1 = getDom(e1);\r\n  const dom2 = getDom(e2);\r\n  return (\r\n    !!dom1 && dom1.contains && !!dom2 && (dom1 == dom2 || dom1.contains(dom2))\r\n  );\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n\r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand(\"copy\");\r\n    var msg = successful ? \"successful\" : \"unsuccessful\";\r\n    console.log(\"Fallback: Copying text command was \" + msg);\r\n  } catch (err) {\r\n    console.error(\"Fallback: Oops, unable to copy\", err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copy(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(\r\n    function () {\r\n      console.log(\"Async: Copying to clipboard was successful!\");\r\n    },\r\n    function (err) {\r\n      console.error(\"Async: Could not copy text: \", err);\r\n    }\r\n  );\r\n}\r\n\r\nexport function focus(selector, noScroll: boolean = false) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLElement))\r\n    throw new Error(\"Unable to focus an invalid element.\");\r\n  dom.focus({\r\n    preventScroll: noScroll,\r\n  });\r\n}\r\n\r\nexport function select(selector) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLInputElement || dom instanceof HTMLTextAreaElement))\r\n    throw new Error(\"Unable to select an invalid element\");\r\n  dom.select();\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n  let dom = getDom(selector);\r\n  return document.activeElement === dom;\r\n}\r\n\r\nexport function blur(selector) {\r\n  let dom = getDom(selector);\r\n  dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n  console.log(text);\r\n}\r\n\r\nexport function scrollIntoView(target, arg?: boolean | ScrollIntoViewOptions) {\r\n  let dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    if (arg === null || arg == undefined) {\r\n      dom.scrollIntoView();\r\n    } else if (typeof arg === \"boolean\") {\r\n      dom.scrollIntoView(arg);\r\n    } else {\r\n      dom.scrollIntoView({\r\n        block: arg.block == null ? undefined : arg.block,\r\n        inline: arg.inline == null ? undefined : arg.inline,\r\n        behavior: arg.behavior,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport function scrollIntoParentView(\r\n  target,\r\n  inline = false,\r\n  start = false,\r\n  level = 1,\r\n  behavior: ScrollBehavior = \"smooth\"\r\n) {\r\n  const dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    let parent: HTMLElement = dom;\r\n    while (level > 0) {\r\n      parent = parent.parentElement;\r\n      level--;\r\n      if (!parent) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const options: ScrollToOptions = {\r\n      behavior,\r\n    };\r\n\r\n    if (inline) {\r\n      if (start) {\r\n        options.left = dom.offsetLeft;\r\n      } else {\r\n        const to = dom.offsetLeft - parent.offsetLeft;\r\n        if (to - parent.scrollLeft < 0) {\r\n          options.left = to;\r\n        } else if (\r\n          to + dom.offsetWidth - parent.scrollLeft >\r\n          parent.offsetWidth\r\n        ) {\r\n          options.left = to + dom.offsetWidth - parent.offsetWidth;\r\n        }\r\n      }\r\n    } else {\r\n      if (start) {\r\n        options.top = dom.offsetTop;\r\n      } else {\r\n        const to = dom.offsetTop - parent.offsetTop;\r\n        if (to - parent.scrollTop < 0) {\r\n          options.top = to;\r\n        } else if (\r\n          to + dom.offsetHeight - parent.scrollTop >\r\n          parent.offsetHeight\r\n        ) {\r\n          options.top = to + dom.offsetHeight - parent.offsetHeight;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (options.left || options.top) {\r\n      parent.scrollTo(options);\r\n    }\r\n  }\r\n}\r\n\r\nexport function scrollTo(target, options: ScrollToOptions) {\r\n  let dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    const o = {\r\n      left: options.left === null ? undefined : options.left,\r\n      top: options.top === null ? undefined : options.top,\r\n      behavior: options.behavior,\r\n    };\r\n    dom.scrollTo(o);\r\n  }\r\n}\r\n\r\nexport function scrollToElement(\r\n  target,\r\n  offset: number,\r\n  behavior?: ScrollBehavior\r\n) {\r\n  const dom = getDom(target);\r\n  if (!dom) return;\r\n  const domPosition = dom.getBoundingClientRect().top;\r\n  const offsetPosition = domPosition + window.pageYOffset - offset;\r\n  window.scrollTo({\r\n    top: offsetPosition,\r\n    behavior: behavior,\r\n  });\r\n}\r\n\r\nexport function scrollToActiveElement(container, target) {\r\n  let dom: HTMLElement = getDom(container);\r\n\r\n  target = dom.querySelector(\".active\") as HTMLElement;\r\n  if (!target) {\r\n    return;\r\n  }\r\n\r\n  dom.scrollTop =\r\n    target.offsetTop - dom.offsetHeight / 2 + target.offsetHeight / 2;\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.add(className);\r\n  }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.remove(className);\r\n  }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n  var offset = e.offsetTop;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteTop(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n  var offset = e.offsetLeft;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteLeft(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n  document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && addElement) {\r\n    parent.appendChild(addElement);\r\n  }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && delElement) {\r\n    parent.removeChild(delElement);\r\n  }\r\n}\r\n\r\nexport function getActiveElement() {\r\n  let element = document.activeElement;\r\n  let id = element.getAttribute(\"id\") || \"\";\r\n  return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n  let ele = <HTMLElement>document.querySelector(selector);\r\n  if (ele && !ele.hasAttribute(\"disabled\")) {\r\n    setTimeout(() => {\r\n      ele.focus();\r\n      let curId = \"#\" + getActiveElement();\r\n      if (curId !== selector) {\r\n        if (count < 10) {\r\n          focusDialog(selector, count + 1);\r\n        }\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\nexport function getWindow() {\r\n  return {\r\n    innerWidth: window.innerWidth,\r\n    innerHeight: window.innerHeight,\r\n    pageXOffset: window.pageXOffset,\r\n    pageYOffset: window.pageYOffset,\r\n    isTop: window.scrollY == 0,\r\n    isBottom: window.scrollY + window.innerHeight == document.body.clientHeight,\r\n  };\r\n}\r\n\r\nexport function getWindowAndDocumentProps(\r\n  windowProps: string[] = [],\r\n  documentProps: string[] = []\r\n) {\r\n  const obj = {};\r\n\r\n  if (windowProps) {\r\n    windowProps.forEach((prop) => (obj[prop] = window[prop]));\r\n  }\r\n\r\n  if (documentProps) {\r\n    documentProps.forEach(\r\n      (prop) => (obj[prop] = document.documentElement[prop])\r\n    );\r\n  }\r\n\r\n  return obj;\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return () => {\r\n    const context = this,\r\n      args = arguments;\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func.apply(this, args);\r\n    };\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\nexport function css(\r\n  element: any,\r\n  name: string | object,\r\n  value: string | null = null\r\n) {\r\n  var dom = getDom(element);\r\n  if (typeof name === \"string\") {\r\n    dom.style[name] = value;\r\n  } else {\r\n    for (let key in name) {\r\n      if (name.hasOwnProperty(key)) {\r\n        dom.style[key] = name[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function addCls(\r\n  selector: Element | string,\r\n  clsName: string | Array<string>\r\n) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.add(clsName);\r\n  } else {\r\n    element.classList.add(...clsName);\r\n  }\r\n}\r\n\r\nexport function removeCls(\r\n  selector: Element | string,\r\n  clsName: string | Array<string>\r\n) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.remove(clsName);\r\n  } else {\r\n    element.classList.remove(...clsName);\r\n  }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n  let element = getDom(selector);\r\n\r\n  if (!element) return;\r\n\r\n  element.scrollIntoView({\r\n    behavior: \"smooth\",\r\n    block: \"nearest\",\r\n    inline: \"start\",\r\n  });\r\n}\r\n\r\nconst hasScrollbar = () => {\r\n  let overflow = document.body.style.overflow;\r\n  if (overflow && overflow === \"hidden\") return false;\r\n  return (\r\n    document.body.scrollHeight >\r\n    (window.innerHeight || document.documentElement.clientHeight)\r\n  );\r\n};\r\n\r\nexport function getScroll() {\r\n  return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n  let dom = getDom(element);\r\n  return dom.innerText;\r\n}\r\n\r\nexport function getMenuOrDialogMaxZIndex(\r\n  exclude: Element[] = [],\r\n  element: Element\r\n) {\r\n  const base = getDom(element);\r\n  // Start with lowest allowed z-index or z-index of\r\n  // base component's element, whichever is greater\r\n  const zis = [getZIndex(base)];\r\n\r\n  const activeElements = [\r\n    ...document.getElementsByClassName(\"m-menu__content--active\"),\r\n    ...document.getElementsByClassName(\"m-dialog__content--active\"),\r\n  ];\r\n\r\n  // Get z-index for all active dialogs\r\n  for (let index = 0; index < activeElements.length; index++) {\r\n    if (!exclude.includes(activeElements[index])) {\r\n      zis.push(getZIndex(activeElements[index]));\r\n    }\r\n  }\r\n\r\n  return Math.max(...zis);\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n  return [...document.all].reduce(\r\n    (r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0),\r\n    0\r\n  );\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n  element = getDom(element);\r\n\r\n  if (element.currentStyle) {\r\n    return element.currentStyle[styleProp];\r\n  } else if (window.getComputedStyle) {\r\n    return document.defaultView\r\n      .getComputedStyle(element, null)\r\n      .getPropertyValue(styleProp);\r\n  }\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n  var result = {};\r\n  var dom = getDom(element);\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n  if (element.currentStyle) {\r\n    result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n    result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n    result[\"paddingBottom\"] = parseFloat(\r\n      element.currentStyle[\"padding-bottom\"]\r\n    );\r\n    result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n    result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n  } else if (window.getComputedStyle) {\r\n    result[\"lineHeight\"] = parseFloat(\r\n      document.defaultView\r\n        .getComputedStyle(element, null)\r\n        .getPropertyValue(\"line-height\")\r\n    );\r\n    result[\"paddingTop\"] = parseFloat(\r\n      document.defaultView\r\n        .getComputedStyle(element, null)\r\n        .getPropertyValue(\"padding-top\")\r\n    );\r\n    result[\"paddingBottom\"] = parseFloat(\r\n      document.defaultView\r\n        .getComputedStyle(element, null)\r\n        .getPropertyValue(\"padding-bottom\")\r\n    );\r\n    result[\"borderBottom\"] = parseFloat(\r\n      document.defaultView\r\n        .getComputedStyle(element, null)\r\n        .getPropertyValue(\"border-bottom\")\r\n    );\r\n    result[\"borderTop\"] = parseFloat(\r\n      document.defaultView\r\n        .getComputedStyle(element, null)\r\n        .getPropertyValue(\"border-top\")\r\n    );\r\n  }\r\n  //Firefox can return this as NaN, so it has to be handled here like that.\r\n  if (Object.is(NaN, result[\"borderTop\"])) result[\"borderTop\"] = 1;\r\n  if (Object.is(NaN, result[\"borderBottom\"])) result[\"borderBottom\"] = 1;\r\n  return result;\r\n}\r\n\r\nconst objReferenceDict = {};\r\n\r\nexport function disposeObj(objReferenceName) {\r\n  delete objReferenceDict[objReferenceName];\r\n}\r\n\r\nexport function insertAdjacentHTML(position, text: string) {\r\n  document.head.insertAdjacentHTML(position, text);\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n  return new Promise(function (resolve, reject) {\r\n    var img = new Image();\r\n    img.src = src;\r\n    img.onload = function () {\r\n      resolve({\r\n        width: img.width,\r\n        height: img.height,\r\n        hasError: false,\r\n      });\r\n    };\r\n    img.onerror = function () {\r\n      resolve({\r\n        width: 0,\r\n        height: 0,\r\n        hasError: true,\r\n      });\r\n    };\r\n  });\r\n}\r\n\r\nexport function enablePreventDefaultForEvent(\r\n  element: any,\r\n  event: string,\r\n  condition?: any\r\n) {\r\n  const dom = getDom(element);\r\n  if (!dom) return;\r\n  if (event === \"keydown\") {\r\n    dom.addEventListener(event, (e: KeyboardEvent) => {\r\n      if (Array.isArray(condition)) {\r\n        var codes = condition as string[];\r\n        if (codes.includes(e.code)) {\r\n          e.preventDefault();\r\n        }\r\n      } else {\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  } else {\r\n    dom.addEventListener(event, (e) => {\r\n      if (e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function resizeObserver(selector: string, invoker: DotNet.DotNetObject) {\r\n  var el = document.querySelector(selector);\r\n  if (!el) return;\r\n\r\n  const resizeObserver = new ResizeObserver((entries) => {\r\n    const dimensions = [];\r\n    for (var entry of entries) {\r\n      const dimension = entry.contentRect;\r\n      dimensions.push(dimension);\r\n    }\r\n    invoker.invokeMethodAsync(\"Invoke\", dimensions);\r\n  });\r\n\r\n  resizeObserver.observe(el);\r\n}\r\n\r\nexport function intersectionObserver(\r\n  selector: string,\r\n  invokers: DotNet.DotNetObject[]\r\n) {\r\n  var el = document.querySelector(selector);\r\n  if (!el) return;\r\n\r\n  const observer = new IntersectionObserver(\r\n    (\r\n      entries: IntersectionObserverEntry[] = [],\r\n      observer: IntersectionObserver\r\n    ) => {\r\n      if (entries.some((e) => e.isIntersecting)) {\r\n        invokers.forEach((item) => {\r\n          item.invokeMethodAsync(\"Invoke\");\r\n        });\r\n      }\r\n    }\r\n  );\r\n\r\n  observer.observe(el);\r\n}\r\n\r\nexport function getBoundingClientRects(selector) {\r\n  var elements = document.querySelectorAll(selector);\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < elements.length; i++) {\r\n    var e: Element = elements[i];\r\n    var dom = {\r\n      id: e.id,\r\n      rect: e.getBoundingClientRect(),\r\n    };\r\n    result.push(dom);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getSize(selectors, sizeProp) {\r\n  var el = getDom(selectors);\r\n\r\n  var display = el.style.display;\r\n  var overflow = el.style.overflow;\r\n\r\n  el.style.display = \"\";\r\n  el.style.overflow = \"hidden\";\r\n\r\n  var size =\r\n    el[\"offset\" + sizeProp.charAt(0).toUpperCase() + sizeProp.slice(1)] || 0;\r\n\r\n  el.style.display = display;\r\n  el.style.overflow = overflow;\r\n\r\n  return size;\r\n}\r\n\r\nexport function getProp(selectors, name) {\r\n  var el = getDom(selectors);\r\n  if (!el) {\r\n    return null;\r\n  }\r\n\r\n  return el[name];\r\n}\r\n\r\nexport function updateWindowTransition(selectors, isActive, item) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  var container: HTMLElement = el.querySelector(\".m-window__container\");\r\n\r\n  if (item) {\r\n    var itemEl: HTMLElement = getDom(item);\r\n    container.style.height = itemEl.clientHeight + \"px\";\r\n    return;\r\n  }\r\n\r\n  if (isActive) {\r\n    container.classList.add(\"m-window__container--is-active\");\r\n    container.style.height = el.clientHeight + \"px\";\r\n  } else {\r\n    container.style.height = \"\";\r\n    container.classList.remove(\"m-window__container--is-active\");\r\n  }\r\n}\r\n\r\nexport function getScrollHeightWithoutHeight(selectors) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  if (!el) {\r\n    return 0;\r\n  }\r\n\r\n  var height = el.style.height;\r\n  el.style.height = \"0\";\r\n  var scrollHeight = el.scrollHeight;\r\n  el.style.height = height;\r\n\r\n  return scrollHeight;\r\n}\r\n\r\n//register custom events\r\nwindow.onload = function () {\r\n  registerExtraEvents();\r\n  registerPasteWithData(\"pastewithdata\");\r\n  registerDirective();\r\n};\r\n\r\nfunction registerPasteWithData(customEventName) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(customEventName, {\r\n      browserEventName: \"paste\",\r\n      createEventArgs: (event: ClipboardEvent) => {\r\n        return {\r\n          type: event.type,\r\n          pastedData: event.clipboardData.getData(\"text\"),\r\n        };\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nexport function registerTextFieldOnMouseDown(element, inputElement, callback) {\r\n  if (!element || !inputElement) return;\r\n\r\n  element.addEventListener(\"mousedown\", (e: MouseEvent) => {\r\n    const target = e.target;\r\n    const inputDom = getDom(inputElement);\r\n    if (target !== inputDom) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    if (callback) {\r\n      const mouseEventArgs = {\r\n        Detail: e.detail,\r\n        ScreenX: e.screenX,\r\n        ScreenY: e.screenY,\r\n        ClientX: e.clientX,\r\n        ClientY: e.clientY,\r\n        OffsetX: e.offsetX,\r\n        OffsetY: e.offsetY,\r\n        PageX: e.pageX,\r\n        PageY: e.pageY,\r\n        Button: e.button,\r\n        Buttons: e.buttons,\r\n        CtrlKey: e.ctrlKey,\r\n        ShiftKey: e.shiftKey,\r\n        AltKey: e.altKey,\r\n        MetaKey: e.metaKey,\r\n        Type: e.type,\r\n      };\r\n\r\n      callback.invokeMethodAsync(\"Invoke\", mouseEventArgs);\r\n    }\r\n  });\r\n}\r\n\r\nexport function isMobile() {\r\n  return (\r\n    /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\r\n      navigator.userAgent\r\n    ) ||\r\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n      navigator.userAgent.substr(0, 4)\r\n    )\r\n  );\r\n}\r\n\r\nexport function containsActiveElement(selector) {\r\n  var el = getDom(selector);\r\n  if (el && el.contains) {\r\n    return el.contains(document.activeElement);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function copyChild(el) {\r\n  if (typeof el === \"string\") {\r\n    el = document.querySelector(el);\r\n  }\r\n\r\n  if (!el) return;\r\n\r\n  el.setAttribute(\"contenteditable\", \"true\");\r\n  el.focus();\r\n  document.execCommand(\"selectAll\", false, null);\r\n  document.execCommand(\"copy\");\r\n  document.execCommand(\"unselect\");\r\n  el.removeAttribute(\"contenteditable\");\r\n}\r\n\r\nexport function copyText(text) {\r\n  if (!navigator.clipboard) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n      var successful = document.execCommand(\"copy\");\r\n      var msg = successful ? \"successful\" : \"unsuccessful\";\r\n      console.log(\"Fallback: Copying text command was \" + msg);\r\n    } catch (err) {\r\n      console.error(\"Fallback: Oops, unable to copy\", err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n    return;\r\n  }\r\n\r\n  navigator.clipboard.writeText(text).then(\r\n    function () {\r\n      console.log(\"Async: Copying to clipboard was successful!\");\r\n    },\r\n    function (err) {\r\n      console.error(\"Async: Could not copy text: \", err);\r\n    }\r\n  );\r\n}\r\n\r\nexport function getMenuableDimensions(\r\n  hasActivator,\r\n  activatorSelector,\r\n  attach,\r\n  contentElement,\r\n  attached,\r\n  attachSelector\r\n) {\r\n  if (!attached) {\r\n    var container = document.querySelector(attachSelector);\r\n    if (contentElement.nodeType) {\r\n      container.appendChild(contentElement);\r\n    }\r\n  }\r\n\r\n  var dimensions = {\r\n    activator: {} as any,\r\n    content: null,\r\n    relativeYOffset: 0,\r\n    offsetParentLeft: 0,\r\n  };\r\n\r\n  if (hasActivator) {\r\n    var activator = document.querySelector(activatorSelector);\r\n    console.log(\"activator\", activator);\r\n    dimensions.activator = measure(activator, attach);\r\n    dimensions.activator.offsetLeft = activator.offsetLeft;\r\n    if (attach !== null) {\r\n      // account for css padding causing things to not line up\r\n      // this is mostly for v-autocomplete, hopefully it won't break anything\r\n      dimensions.activator.offsetTop = activator.offsetTop;\r\n    } else {\r\n      dimensions.activator.offsetTop = 0;\r\n    }\r\n  }\r\n\r\n  sneakPeek(() => {\r\n    if (contentElement) {\r\n      if (contentElement.offsetParent) {\r\n        const offsetRect = getRoundedBoundedClientRect(\r\n          contentElement.offsetParent\r\n        );\r\n        dimensions.relativeYOffset = window.pageYOffset + offsetRect.top;\r\n\r\n        if (hasActivator) {\r\n          dimensions.activator.top -= dimensions.relativeYOffset;\r\n          dimensions.activator.left -= window.pageXOffset + offsetRect.left;\r\n        } else {\r\n          dimensions.offsetParentLeft = offsetRect.left;\r\n        }\r\n      }\r\n\r\n      dimensions.content = measure(contentElement, attach);\r\n    }\r\n  }, contentElement);\r\n\r\n  return dimensions;\r\n}\r\n\r\nfunction measure(el: HTMLElement, attach) {\r\n  if (!el) return null;\r\n\r\n  let rect: any;\r\n\r\n  // if (el.style && el.style['display'] === \"none\") {\r\n  //   const cloned = el.cloneNode(true) as HTMLElement;\r\n  //   cloned.style[\"display\"] = 'inline-block';\r\n  //   cloned.style['z-index'] = -1000;\r\n  //   cloned.parentElement.appendChild(cloned)\r\n  //   rect = getRoundedBoundedClientRect(cloned);\r\n  //   el.parentElement.removeChild(cloned);\r\n  // }\r\n  // else {\r\n  //   rect = getRoundedBoundedClientRect(el)\r\n  // }\r\n\r\n  doIfDomIsDisplayNone(el, (temp) => {\r\n    console.log(temp);\r\n    rect = getRoundedBoundedClientRect(temp);\r\n  });\r\n\r\n  console.log(rect);\r\n\r\n  // Account for activator margin\r\n  if (attach !== null) {\r\n    const style = window.getComputedStyle(el);\r\n\r\n    rect.left = parseInt(style.marginLeft!);\r\n    rect.top = parseInt(style.marginTop!);\r\n  }\r\n\r\n  return rect;\r\n}\r\n\r\nfunction getRoundedBoundedClientRect(el: HTMLElement) {\r\n  if (!el || !el.nodeType) {\r\n    return null;\r\n  }\r\n\r\n  const rect = el.getBoundingClientRect();\r\n  return {\r\n    top: Math.round(rect.top),\r\n    left: Math.round(rect.left),\r\n    bottom: Math.round(rect.bottom),\r\n    right: Math.round(rect.right),\r\n    width: Math.round(rect.width),\r\n    height: Math.round(rect.height),\r\n  };\r\n}\r\n\r\nfunction sneakPeek(cb: () => void, el) {\r\n  if (!el || !el.style || el.style.display !== 'none') {\r\n    cb()\r\n    return\r\n  }\r\n\r\n  el.style.display = 'inline-block'\r\n  cb()\r\n  el.style.display = 'none'\r\n}\r\n\r\nexport function invokeMultipleMethod(windowProps, documentProps, hasActivator, activatorSelector, attach, contentElement, attached, attachSelector, element) {\r\n  var multipleResult = {\r\n    windowAndDocument: null,\r\n    dimensions: null,\r\n    zIndex: 0\r\n  };\r\n\r\n  multipleResult.windowAndDocument = getWindowAndDocumentProps(windowProps, documentProps);\r\n  multipleResult.dimensions = getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector);\r\n  multipleResult.zIndex = getMenuOrDialogMaxZIndex([contentElement], element);\r\n\r\n  return multipleResult;\r\n}\r\n\r\nexport function registerOTPInputOnInputEvent(elementList, callback) {\r\n  for (let i = 0; i < elementList.length; i++) {\r\n    elementList[i].addEventListener('input', (e: Event) => otpInputOnInputEvent(e, i, elementList, callback));\r\n    elementList[i].addEventListener('focus', (e: Event) => otpInputFocusEvent(e, i, elementList));\r\n    elementList[i].addEventListener('keyup', (e: KeyboardEvent) => otpInputKeyupEvent(e, i, elementList, callback));\r\n  }\r\n}\r\n\r\nexport function otpInputKeyupEvent(e: KeyboardEvent, otpIdx: number, elementList, callback) {\r\n  e.preventDefault();\r\n  const eventKey = e.key;\r\n  if (eventKey === 'ArrowLeft' || eventKey === 'Backspace') {\r\n    if (eventKey === 'Backspace') {\r\n      const obj = {\r\n        type: eventKey,\r\n        index: otpIdx,\r\n        value: ''\r\n      }\r\n      if (callback) {\r\n        callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n      }\r\n    }\r\n    otpInputFocus(otpIdx - 1, elementList);\r\n  }\r\n  else if (eventKey === 'ArrowRight') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n  }\r\n}\r\n\r\nexport function otpInputFocus(focusIndex: number, elementList) {\r\n  if (focusIndex < 0) {\r\n    otpInputFocus(0, elementList);\r\n  }\r\n  else if (focusIndex >= elementList.length) {\r\n    otpInputFocus(elementList.length - 1, elementList);\r\n  }\r\n  else {\r\n    if (document.activeElement !== elementList[focusIndex]) {\r\n      const element = getDom(elementList[focusIndex])\r\n      element.focus();\r\n    }\r\n  }\r\n}\r\n\r\nexport function otpInputFocusEvent(e: Event, otpIdx: number, elementList) {\r\n  const element = getDom(elementList[otpIdx]) as HTMLInputElement;\r\n  if (element && document.activeElement === element) {\r\n    element.select();\r\n  }\r\n}\r\n\r\nexport function otpInputOnInputEvent(e: Event, otpIdx: number, elementList, callback) {\r\n  const target = e.target as HTMLInputElement;\r\n  const value = target.value;\r\n\r\n  if (value && value !== '') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n\r\n    if (callback) {\r\n      const obj = {\r\n        type: 'Input',\r\n        index: otpIdx,\r\n        value: value\r\n      }\r\n      callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n    }\r\n  }\r\n}\r\n\r\nexport function getListIndexWhereAttributeExists(selector: string, attribute:string, value: string) {\r\n  const tiles = document.querySelectorAll(selector);\r\n  if (!tiles) {\r\n    return -1;\r\n  }\r\n\r\n  let index = -1;\r\n  for (let i = 0; i < tiles.length; i++) {\r\n    if (tiles[i].getAttribute(attribute) === value) {\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return index;\r\n}\r\n\r\nexport function scrollToTile(contentSelector: string, tilesSelector: string, index: number, keyCode: string) {\r\n  var tiles = document.querySelectorAll(tilesSelector)\r\n  if (!tiles) return;\r\n\r\n  let tile = tiles[index] as HTMLElement;\r\n\r\n  if (!tile) return;\r\n\r\n  const content = document.querySelector(contentSelector);\r\n  if (!content) return;\r\n\r\n  const scrollTop = content.scrollTop;\r\n  const contentHeight = content.clientHeight;\r\n\r\n  if (scrollTop > tile.offsetTop - 8) {\r\n    content.scrollTo({ top: tile.offsetTop - tile.clientHeight, behavior: \"smooth\" })\r\n  } else if (scrollTop + contentHeight < tile.offsetTop + tile.clientHeight + 8) {\r\n    content.scrollTo({ top: tile.offsetTop - contentHeight + tile.clientHeight * 2, behavior: \"smooth\" })\r\n  }\r\n}\r\n\r\nexport function getElementTranslateY(element) {\r\n  const style = window.getComputedStyle(element);\r\n  const transform = style.transform || style.webkitTransform;\r\n  const translateY = transform.slice(7, transform.length - 1).split(', ')[5];\r\n\r\n  return Number(translateY);\r\n}\r\n\r\nfunction isWindow(element: any | Window): element is Window {\r\n  return element === window\r\n}\r\n\r\nexport function checkIfThresholdIsExceededWhenScrolling(el: Element, parent: Element, threshold: number) {\r\n  if (!el || !parent) return\r\n\r\n  const rect = el.getBoundingClientRect();\r\n  const elementTop = rect.top;\r\n  const current = isWindow(parent)\r\n    ? window.innerHeight\r\n    : parent.getBoundingClientRect().bottom\r\n\r\n  return (current >= elementTop - threshold)\r\n}\r\n","import { rippleHide, rippleShow } from \"./ripple\";\r\n\r\nexport default function registerDirective() {\r\n  var observer = new MutationObserver(function (mutationsList) {\r\n    for (let mutation of mutationsList) {\r\n      if (mutation.type === \"childList\") {\r\n        var target: any = mutation.target;\r\n        //ripple\r\n        if (!target._bind && target.attributes[\"ripple\"]) {\r\n          target.addEventListener(\"mousedown\", rippleShow);\r\n          target.addEventListener(\"mouseup\", rippleHide);\r\n          target.addEventListener(\"mouseleave\", rippleHide);\r\n\r\n          target._bind = true;\r\n        } else if (target.nodeName == \"BODY\") {\r\n          var rippleEls = document.querySelectorAll(\"[ripple]\");\r\n          for (let rippleEl of rippleEls) {\r\n            var el: any = rippleEl;\r\n            if (!el._bind) {\r\n              el.addEventListener(\"mousedown\", rippleShow);\r\n              el.addEventListener(\"mouseup\", rippleHide);\r\n              el.addEventListener(\"mouseleave\", rippleHide);\r\n\r\n              el._bind = true;\r\n            }\r\n          }\r\n        }\r\n      } else if (mutation.type === \"attributes\") {\r\n        //ripple\r\n        if (mutation.attributeName == \"ripple\") {\r\n          var target: any = mutation.target;\r\n          if (target.attributes[\"ripple\"]) {\r\n            target.addEventListener(\"mousedown\", rippleShow);\r\n            target.addEventListener(\"mouseup\", rippleHide);\r\n            target.addEventListener(\"mouseleave\", rippleHide);\r\n          } else {\r\n            target.removeEventListener(\"mousedown\", rippleShow);\r\n            target.removeEventListener(\"mouseup\", rippleHide);\r\n            target.removeEventListener(\"mouseleave\", rippleHide);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  observer.observe(document, {\r\n    attributes: true,\r\n    subtree: true,\r\n    childList: true,\r\n    attributeFilter: [\"ripple\"],\r\n  });\r\n}\r\n","// Utilities\r\nimport { addPassiveEventListener, composedPath, getDom, keyCodes } from \"../../utils/helper\";\r\n\r\nvar wheelListenerCaches: { [key: string]: any } = {}\r\n\r\nexport function hideScroll(fullscreen: boolean, overlaySelector: string, content, dialog) {\r\n  if (fullscreen) {\r\n    document.documentElement!.classList.add('overflow-y-hidden')\r\n  } else {\r\n    if (!overlaySelector) return\r\n    const overlay = getDom(overlaySelector);\r\n    const listener = (e) => {\r\n      scrollListener(e, overlay, content, dialog)\r\n    }\r\n\r\n    wheelListenerCaches[`window_${overlaySelector}`] = listener;\r\n\r\n    addPassiveEventListener(window, 'wheel', listener, { passive: false })\r\n    window.addEventListener('keydown', listener)\r\n  }\r\n}\r\n\r\nexport function showScroll (overlaySelector) {\r\n  document.documentElement!.classList.remove('overflow-y-hidden')\r\n\r\n  var listener = wheelListenerCaches[`window_${overlaySelector}`]\r\n  if (listener) {\r\n    window.removeEventListener('wheel', listener)\r\n    window.removeEventListener('keydown', listener)\r\n  }\r\n}\r\n\r\nfunction scrollListener (e: WheelEvent & KeyboardEvent, overlay, content, dialog) {\r\n  if (e.type === 'keydown') {\r\n    if (\r\n      ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\r\n      // https://github.com/vuetifyjs/vuetify/issues/4715\r\n      (e.target as HTMLElement).isContentEditable\r\n    ) return\r\n\r\n    const up = [keyCodes.up, keyCodes.pageup]\r\n    const down = [keyCodes.down, keyCodes.pagedown]\r\n\r\n    if (up.includes(e.keyCode)) {\r\n      (e as any).deltaY = -1\r\n    } else if (down.includes(e.keyCode)) {\r\n      (e as any).deltaY = 1\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n\r\n  if (e.target === overlay ||\r\n    (e.type !== 'keydown' && e.target === document.body) ||\r\n    checkPath(e, content, dialog)) e.preventDefault()\r\n}\r\n\r\nfunction checkPath(e: WheelEvent, content, dialog) {\r\n  const path = composedPath(e)\r\n\r\n  if (e.type === 'keydown' && path[0] === document.body) {\r\n    // getSelection returns null in firefox in some edge cases, can be ignored\r\n    const selected = window.getSelection()!.anchorNode as Element\r\n    if (dialog && hasScrollbar(dialog) && isInside(selected, dialog)) {\r\n      return !shouldScroll(dialog, e)\r\n    }\r\n    return true\r\n  }\r\n\r\n  for (let index = 0; index < path.length; index++) {\r\n    const el = path[index]\r\n\r\n    if (el === document) return true\r\n    if (el === document.documentElement) return true\r\n    if (el === content) return true\r\n\r\n    if (hasScrollbar(el as Element)) return !shouldScroll(el as Element, e)\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nfunction shouldScroll(el: Element, e: WheelEvent): boolean {\r\n  if (el.hasAttribute('data-app')) return false\r\n\r\n  const dir = e.shiftKey || e.deltaX ? 'x' : 'y'\r\n  const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY\r\n\r\n  let alreadyAtStart: boolean\r\n  let alreadyAtEnd: boolean\r\n  if (dir === 'y') {\r\n    alreadyAtStart = el.scrollTop === 0\r\n    alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight\r\n  } else {\r\n    alreadyAtStart = el.scrollLeft === 0\r\n    alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth\r\n  }\r\n\r\n  const scrollingUp = delta < 0\r\n  const scrollingDown = delta > 0\r\n\r\n  if (!alreadyAtStart && scrollingUp) return true\r\n  if (!alreadyAtEnd && scrollingDown) return true\r\n  if ((alreadyAtStart || alreadyAtEnd)) {\r\n    return shouldScroll(el.parentNode as Element, e)\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nfunction isInside(el: Element, parent: Element): boolean {\r\n  if (el === parent) {\r\n    return true\r\n  } else if (el === null || el === document.body) {\r\n    return false\r\n  } else {\r\n    return isInside(el.parentNode as Element, parent)\r\n  }\r\n}\r\n\r\nfunction hasScrollbar(el?: Element) {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\r\n\r\n  const style = window.getComputedStyle(el)\r\n  return ((['auto', 'scroll'].includes(style.overflowY!) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight) ||\r\n    ((['auto', 'scroll'].includes(style.overflowX!)) && el.scrollWidth > el.clientWidth)\r\n}\r\n","import * as interop from \"./interop\";\r\nimport * as overlayable from \"./mixins/overlayable\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    BlazorComponent: any;\r\n    MasaBlazor: any;\r\n  }\r\n}\r\n\r\nwindow.BlazorComponent = {\r\n  interop: {\r\n    ...interop,\r\n    ...overlayable,\r\n  },\r\n};\r\n\r\nwindow.MasaBlazor = {};\r\n"],"names":["transform","el","value","style","webkitTransform","opacity","toString","ripples","show","e","container","document","createElement","animation","appendChild","className","radius","scale","x","y","centerX","centerY","localX","localY","offset","getBoundingClientRect","target","clientX","left","clientY","top","Math","sqrt","clientWidth","clientHeight","calculate","size","width","height","computed","window","getComputedStyle","position","dataset","previousPosition","classList","add","activated","String","performance","now","setTimeout","remove","hide","getElementsByClassName","length","isHiding","diff","Number","delay","max","parentNode","removeChild","rippleShow","currentTarget","rippleHide","passiveSupported","testListenerOpts","Object","defineProperty","get","addEventListener","removeEventListener","console","warn","keyCodes","freeze","enter","tab","delete","esc","space","up","down","right","end","home","del","backspace","insert","pageup","pagedown","shift","getElementSelector","Element","path","nodeType","Node","ELEMENT_NODE","selector","nodeName","toLowerCase","id","unshift","sib","nth","previousElementSibling","join","getDom","elOrString","element","documentElement","indexOf","array","split","i","querySelector","HTMLElement","body","parseTouch","touchList","touches","touch","push","identifier","screenX","screenY","pageX","pageY","registerExtraMouseEvent","eventType","eventName","Blazor","registerCustomEventType","browserEventName","createEventArgs","createSharedEventArgs","type","args","event","assign","detail","offsetX","offsetY","button","buttons","ctrlKey","shiftKey","altKey","metaKey","targetTouches","changedTouches","parseTouchEvent","elementReferenceId","getAttributeNames","find","a","startsWith","getAttribute","registerExtraEvents","registerEvent","getZIndex","index","getPropertyValue","onTransition","isActive","propertyName","scrollHeight","requestAnimationFrame","leave","getDomInfoObj","dom","result","offsetTop","offsetLeft","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","res","viewportElement","box","offsetWidth","offsetHeight","relativeTop","relativeBottom","bottom","relativeLeft","relativeRight","absoluteLeft","absoluteTop","getElementPos","round","htmlElementEventListennerConfigs","outsideClickListenerCaches","getActiveElement","activeElement","getWindowAndDocumentProps","windowProps","documentProps","obj","forEach","prop","getMenuOrDialogMaxZIndex","exclude","zis","activeElements","includes","getMenuableDimensions","hasActivator","activatorSelector","attach","contentElement","attached","attachSelector","dimensions","activator","content","relativeYOffset","offsetParentLeft","log","measure","cb","display","sneakPeek","offsetParent","offsetRect","getRoundedBoundedClientRect","pageYOffset","pageXOffset","rect","cloned","cloneNode","parentElement","doIfDomIsDisplayNone","temp","parseInt","marginLeft","marginTop","otpInputKeyupEvent","otpIdx","elementList","callback","preventDefault","eventKey","key","invokeMethodAsync","JSON","stringify","otpInputFocus","focusIndex","focus","otpInputFocusEvent","select","otpInputOnInputEvent","onload","customEventName","pastedData","clipboardData","getData","MutationObserver","mutationsList","mutation","_bind","attributes","rippleEls","querySelectorAll","rippleEl","attributeName","observe","subtree","childList","attributeFilter","contains","stopPropagation","evt","createEvent","initEvent","dispatchEvent","name","_a","_b","invoker","options","extras","htmlElement","config","listener","relatedTarget","k","attr","list","item","debounce","timeout","clearTimeout","throttle","throttled","configs","noInvokeSelectors","invokeSelectors","filter","s","some","pointerSelector","undefined","e1","e2","dom1","dom2","text","navigator","clipboard","writeText","then","err","error","textArea","msg","execCommand","fallbackCopyTextToClipboard","noScroll","Error","preventScroll","HTMLInputElement","HTMLTextAreaElement","blur","arg","scrollIntoView","block","inline","behavior","start","level","parent","to","scrollTo","o","offsetPosition","firstElementChild","getAbsoluteTop","getAbsoluteLeft","addElement","elementSelector","delElement","focusDialog","count","ele","hasAttribute","innerWidth","innerHeight","isTop","scrollY","isBottom","hasOwnProperty","clsName","innerText","all","reduce","r","zIndex","styleProp","currentStyle","defaultView","parseFloat","is","NaN","objReferenceName","head","insertAdjacentHTML","src","Promise","resolve","reject","img","Image","hasError","onerror","condition","Array","isArray","code","ResizeObserver","entries","entry","dimension","contentRect","invokers","IntersectionObserver","observer","isIntersecting","elements","selectors","sizeProp","overflow","charAt","toUpperCase","slice","itemEl","inputElement","mouseEventArgs","Detail","ScreenX","ScreenY","ClientX","ClientY","OffsetX","OffsetY","PageX","PageY","Button","Buttons","CtrlKey","ShiftKey","AltKey","MetaKey","Type","test","userAgent","substr","setAttribute","removeAttribute","multipleResult","windowAndDocument","attribute","tiles","contentSelector","tilesSelector","keyCode","tile","contentHeight","translateY","threshold","elementTop","wheelListenerCaches","shouldScroll","dir","deltaX","delta","deltaY","alreadyAtStart","alreadyAtEnd","isInside","hasScrollbar","overflowY","tagName","overflowX","fullscreen","overlaySelector","dialog","overlay","isContentEditable","composedPath","selected","getSelection","anchorNode","checkPath","scrollListener","passive","BlazorComponent","interop","overlayable","MasaBlazor"],"mappings":"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"}